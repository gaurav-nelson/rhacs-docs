// Module included in the following assemblies:
//
// * configuration/add-custom-certificates.adoc

:_module-type: PROCEDURE
[id="custom-cert-new-install_{context}"]
= Adding a custom certificate during a new installation

.Procedure

* If you are installing {product-title} using Helm:
+
. Add your custom certificate and its key in the `values-private.yaml` file:
+
[source,yaml]
----
central:
  # Configure a default TLS certificate (public cert + private key) for central
  defaultTLS:
    cert: |
      -----BEGIN CERTIFICATE-----
      MIIMIICLDCCAdKgAwIBAgIBADAKBggqhkjOPQQDAjB9MQswCQYDVQQGEwJCRTEPMA0G
      ...
      -----END CERTIFICATE-----
    key: |
      -----BEGIN EC PRIVATE KEY-----
      MHcl4wOuDwKQa+upc8GftXE2C//4mKANBC6It01gUaTIpo=
      ...
      -----END EC PRIVATE KEY-----
----
. Provide the configuration file during the installation:
+
[source,terminal]
----
$ helm install -n stackrox --create-namespace stackrox-central-services rhacs/central-services -f values-private.yaml
----
* If you are installing {product-title} using the `roxctl` CLI, provide the certificate and key files when you run the installer:
** For the non-interactive installer, use the `--default-tls-cert` and   `--default-tls-key` options:
+
[source,terminal]
----
$ roxctl central generate --default-tls-cert "cert.pem" --default-tls-key "key.pem"
----
** For the interactive installer, provide the certificate and key files when   you enter answers for the prompts:
+
[source,text]
----
...
Enter PEM cert bundle file (optional): <cert.pem>
Enter PEM private key file (optional): <key.pem>
Enter administrator password (default: autogenerated):
Enter orchestrator (k8s, openshift): openshift
...
----
